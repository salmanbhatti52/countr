"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4598],{4598:(m,h,o)=>{o.r(h),o.d(h,{NotificationsPage:()=>v});var a=o(6895),d=o(433),c=o(7173),t=o(8256),g=o(997),r=o(5830),i=o(9953);function n(s,u){if(1&s){const e=t.EpF();t.TgZ(0,"ion-toggle",16),t.NdJ("ionChange",function(p){t.CHM(e);const E=t.oxw();return t.KtG(E.changed(p))}),t.qZA()}}function _(s,u){if(1&s){const e=t.EpF();t.TgZ(0,"ion-toggle",17),t.NdJ("ionChange",function(p){t.CHM(e);const E=t.oxw();return t.KtG(E.changed(p))}),t.qZA()}}function f(s,u){1&s&&(t.TgZ(0,"div",18),t._uU(1,"No Notification Found"),t.qZA())}function P(s,u){if(1&s&&(t.TgZ(0,"div",19)(1,"div",20),t._uU(2),t.qZA()()),2&s){const e=t.oxw();t.xp6(2),t.Oqu(e.noti.message)}}let v=(()=>{class s{constructor(e,l,p,E){this.location=e,this.user=l,this.api=p,this.extra=E,this.notichecked="false"}ngOnInit(){this.getuser(),this.getnotification()}getuser(){this.api.sendRequest("users_customers_profile_by_id",{users_customers_id:localStorage.getItem("loggedId")}).subscribe(e=>{console.log("get user----",e),this.notichecked="No"==e.data.notifications?"false":"true"})}getnotification(){this.extra.loadershow(),this.api.sendRequest("notifications",{users_customers_id:localStorage.getItem("loggedId")}).subscribe(e=>{console.log("response",e),"success"==e.status?(this.extra.hideLoader(),this.notilength=e.data.length,this.noti=e.data):this.extra.presentToast(e.message)})}changed(e){localStorage.setItem("notification",e.detail.checked),this.api.sendRequest("notification_permission",{users_customers_id:localStorage.getItem("loggedId")}).subscribe(l=>{console.log("reeer",l)})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(a.Ye),t.Y36(g.K),t.Y36(r.s),t.Y36(i.e))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-notifications"]],standalone:!0,features:[t.jDz],decls:20,vars:6,consts:[[1,"ion-no-border",3,"translucent"],[1,"bg_toolbar"],[1,"header_padding"],[1,"header"],["src","../../assets/images/icons/back_arrow.svg","alt","",3,"click"],[1,"toolbar_heading","clr_heading","sf_pro_display"],[1,"mgl_10"],["src","../../assets/images/icons/bell_icon.svg","alt",""],[1,"background_content",3,"fullscreen"],[1,"flex-c"],[1,"text1"],[1,"text2"],["class","ctoggle",3,"ionChange",4,"ngIf"],["class","ctoggle","checked","",3,"ionChange",4,"ngIf"],["style","font-weight: 500;\n  font-size: 20px;\n  color: #21333B;\n  text-align: center;\n  background: #F7F8F8;\n  padding: 20px;","class","EudoxusSansReg",4,"ngIf"],["class","container",4,"ngFor","ngForOf"],[1,"ctoggle",3,"ionChange"],["checked","",1,"ctoggle",3,"ionChange"],[1,"EudoxusSansReg",2,"font-weight","500","font-size","20px","color","#21333B","text-align","center","background","#F7F8F8","padding","20px"],[1,"container"],[1,"sf_pro_display","font_14_500","clr_text","bg_F7F8F8","pd_14_12","br_14","mgt_14"]],template:function(e,l){1&e&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"div",2)(3,"div",3)(4,"img",4),t.NdJ("click",function(){return l.user.goBack()}),t.qZA(),t.TgZ(5,"div",5),t._uU(6,"Notification"),t.qZA(),t.TgZ(7,"div",6),t._UZ(8,"img",7),t.qZA()()()()(),t.TgZ(9,"ion-content",8)(10,"div",9)(11,"div")(12,"div",10),t._uU(13,"Notification"),t.qZA(),t.TgZ(14,"div",11),t._uU(15,"Enable Notification"),t.qZA()(),t.YNc(16,n,1,0,"ion-toggle",12),t.YNc(17,_,1,0,"ion-toggle",13),t.qZA(),t.YNc(18,f,2,0,"div",14),t.YNc(19,P,3,1,"div",15),t.qZA()),2&e&&(t.Q6J("translucent",!0),t.xp6(9),t.Q6J("fullscreen",!0),t.xp6(7),t.Q6J("ngIf","false"==l.notichecked),t.xp6(1),t.Q6J("ngIf","true"==l.notichecked),t.xp6(1),t.Q6J("ngIf",0==l.notilength),t.xp6(1),t.Q6J("ngForOf",l.noti))},dependencies:[c.Pc,c.W2,c.Gu,c.ho,c.sr,c.w,a.ez,a.sg,a.O5,d.u5],styles:[".container[_ngcontent-%COMP%]{padding:0 22px;margin-bottom:25px}.flex-c[_ngcontent-%COMP%]{display:flex;border-radius:25px;padding:10px 20px;justify-content:space-between;align-items:center}.text1[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#404142}.text2[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:12px;color:#7f8183}.ctoggle[_ngcontent-%COMP%]{--background:#e9f5ec;--handle-background:#DEDEDE;--track-background-checked: #1DA1F2;--handle-height: 22px;--handle-width: 22px;--handle-box-shadow: none;height:25px;width:42px;--handle-background-checked: #fff;--handle-spacing: 2px}"]}),s})()},5830:(m,h,o)=>{o.d(h,{s:()=>c});var a=o(529),d=o(8256);let c=(()=>{class t{constructor(r){this.http=r,this.baseURL="https://portal.countr.ai/api"}sendRequest(r,i){let n;return n=new a.WM({"Content-Type":"application/json",Accept:"application/json"}),n.append("Access-Control-Allow-Origin","*"),n.append("Access-Control-Allow-Methods","POST, GET, DELETE, PUT,OPTIONS"),this.http.post(`${this.baseURL}/${r}`,i,{headers:n})}getRequest(r,i){let n;return n=new a.WM({"Content-Type":"application/json",Accept:"application/json"}),n.append("Access-Control-Allow-Origin","*"),n.append("Access-Control-Allow-Methods","POST, GET, DELETE, PUT,OPTIONS"),this.http.get(`${this.baseURL}/${r}`,{headers:n})}}return t.\u0275fac=function(r){return new(r||t)(d.LFG(a.eN))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},9953:(m,h,o)=>{o.d(h,{e:()=>t});var a=o(5861),d=o(8256),c=o(7173);let t=(()=>{class g{constructor(i,n){this.toastCtrl=i,this.loadingCtrl=n}presentToast(i){var n=this;return(0,a.Z)(function*(){return n.toast=!0,yield n.toastCtrl.create({message:i,duration:2e3,position:"bottom"}).then(_=>{_.present().then(()=>{console.log("presented"),n.toast||_.dismiss().then(()=>console.log("abort presenting"))})})})()}loadershow(i){var n=this;return(0,a.Z)(function*(){n.loadingCtrl.create({cssClass:"loadingdiv",message:""}).then(_=>{_.present()})})()}hideLoader(){this.loadingCtrl.dismiss().then(i=>{console.log("Loading dismissed!",i)}).catch(i=>{console.log("error",i)})}}return g.\u0275fac=function(i){return new(i||g)(d.LFG(c.yF),d.LFG(c.HT))},g.\u0275prov=d.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()}}]);