"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6825],{6825:(E,u,o)=>{o.r(u),o.d(u,{LoginPage:()=>P});var _=o(5861),d=o(6895),c=o(433),i=o(7173),r=o(9113),l=o(4464),e=o(8256),n=o(1407),g=o(997),p=o(5830),T=o(9953);let P=(()=>{class h{constructor(t,s,a,m,f){this.router=t,this.menuCtrl=s,this.user=a,this.api=m,this.extra=f,this.email="",this.password=""}ngOnInit(){(0,l.n$)("capacitor")||r.e.initialize()}ionViewDidEnter(){this.menuCtrl.enable(!1)}ionViewWillLeave(){this.menuCtrl.enable(!0)}Loginwithgoogle(){var t=this;return(0,_.Z)(function*(){if(t.user.googleuserdetail=yield r.e.signIn(),t.user.googleuserdetail){console.log("user details::",t.user.googleuserdetail);let s={email:t.user.googleuserdetail.email,one_signal_id:"123456",google_access_token:t.user.googleuserdetail.authentication.accessToken,account_type:"SignupWithSocial",social_acc_type:"Google",password:"dummy",system_countries_id:"0",system_states_id:"0",status:"Active",verify_code:"dummy"};t.extra.loadershow(),t.api.sendRequest("signup_social",s).subscribe(a=>{console.log("signinresponse====",a),"success"==a.status?(t.extra.hideLoader(),localStorage.setItem("loggedId",a.data[0].users_customers_id),localStorage.setItem("userdata",JSON.stringify(a.data[0])),t.router.navigate(["/home"])):(t.extra.hideLoader(),t.extra.presentToast(a.message))},a=>{t.extra.hideLoader()})}})()}googleLogout(){var t=this;return(0,_.Z)(function*(){yield r.e.signOut(),t.user.googleuserdetail=null})()}login(){this.user.loginVal=!0;let t={email:this.email,password:this.password};""==this.email?this.extra.presentToast("Please enter your email"):""==this.password?this.extra.presentToast("Please enter password"):(this.extra.loadershow(),this.api.sendRequest("signin",t).subscribe(s=>{console.log("signinresponse====",s),"success"==s.status?(this.extra.hideLoader(),localStorage.setItem("loggedId",s.data.users_customers_id),localStorage.setItem("userdata",JSON.stringify(s.data)),this.router.navigate(["/home"])):(this.extra.hideLoader(),this.extra.presentToast(s.message))},s=>{this.extra.hideLoader()}))}goForSignup(){this.router.navigate(["/signup"])}forgot(){this.router.navigate(["/forgotpassword"])}}return h.\u0275fac=function(t){return new(t||h)(e.Y36(n.F0),e.Y36(i._q),e.Y36(g.K),e.Y36(p.s),e.Y36(T.e))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-login"]],standalone:!0,features:[e.jDz],decls:31,vars:3,consts:[[3,"fullscreen"],[1,"container"],[1,"center"],["src","../../assets/images/time_management.png","alt",""],[1,"top_heading","sf_pro_display","clr_white"],[1,"input_lbl","clr_white","sf_pro_display"],["type","email","inputmode","email","placeholder","Email",1,"sf_pro_display","mgt_10",3,"ngModel","ngModelChange"],[1,"input_lbl","clr_white","sf_pro_display","mgt_25"],["type","password","inputmode","text","placeholder","*******",1,"sf_pro_display","mgt_10",3,"ngModel","ngModelChange"],[1,"mgt_20","input_lbl",3,"click"],[1,"clr_white","mgr_4","sf_pro_display"],[1,"clr_primary","underline_text","sf_pro_display"],["expand","block","size","large",1,"btn","sf_pro_display","btn_solid_primary",3,"click"],[3,"click"],["expand","block","fill","outline","size","large",1,"btn","sf_pro_display","btn_outline_primary"],["src","../../assets/images/icons/google_icon.svg","alt","",1,"mgr_10"],[1,"mgt_15","input_lbl","center"],[1,"clr_primary","underline_text","sf_pro_display",3,"click"]],template:function(t,s){1&t&&(e.TgZ(0,"ion-content",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.TgZ(4,"div",4),e._uU(5,"Login"),e.qZA()(),e.TgZ(6,"div")(7,"div",5),e._uU(8,"Email"),e.qZA(),e.TgZ(9,"ion-input",6),e.NdJ("ngModelChange",function(m){return s.email=m}),e.qZA(),e.TgZ(10,"div",7),e._uU(11,"Password"),e.qZA(),e.TgZ(12,"ion-input",8),e.NdJ("ngModelChange",function(m){return s.password=m}),e.qZA(),e.TgZ(13,"div",9),e.NdJ("click",function(){return s.forgot()}),e.TgZ(14,"span",10),e._uU(15,"Forgot password?"),e.qZA(),e.TgZ(16,"span",11),e._uU(17,"Reset"),e.qZA()()(),e.TgZ(18,"div")(19,"div")(20,"ion-button",12),e.NdJ("click",function(){return s.login()}),e._uU(21,"Login"),e.qZA()(),e.TgZ(22,"div",13),e.NdJ("click",function(){return s.Loginwithgoogle()}),e.TgZ(23,"ion-button",14),e._UZ(24,"img",15),e._uU(25," Login With Google"),e.qZA()(),e.TgZ(26,"div",16)(27,"span",10),e._uU(28,"Don't have an account?"),e.qZA(),e.TgZ(29,"span",17),e.NdJ("click",function(){return s.goForSignup()}),e._uU(30,"Signup"),e.qZA()()()()()),2&t&&(e.Q6J("fullscreen",!0),e.xp6(9),e.Q6J("ngModel",s.email),e.xp6(3),e.Q6J("ngModel",s.password))},dependencies:[i.Pc,i.YG,i.W2,i.pK,i.j9,d.ez,c.u5,c.JJ,c.On],styles:["ion-content[_ngcontent-%COMP%]{background-color:#000;--background: url(backgruond_img.d2ba74b1ba0db96d.svg) no-repeat center center / cover}.container[_ngcontent-%COMP%]{padding:25px 30px 0;margin-bottom:25px;height:100%;display:flex;flex-direction:column;justify-content:space-between}"]}),h})()},5830:(E,u,o)=>{o.d(u,{s:()=>c});var _=o(529),d=o(8256);let c=(()=>{class i{constructor(l){this.http=l,this.baseURL="https://portal.countr.ai/api"}sendRequest(l,e){let n;return n=new _.WM({"Content-Type":"application/json",Accept:"application/json"}),n.append("Access-Control-Allow-Origin","*"),n.append("Access-Control-Allow-Methods","POST, GET, DELETE, PUT,OPTIONS"),this.http.post(`${this.baseURL}/${l}`,e,{headers:n})}getRequest(l,e){let n;return n=new _.WM({"Content-Type":"application/json",Accept:"application/json"}),n.append("Access-Control-Allow-Origin","*"),n.append("Access-Control-Allow-Methods","POST, GET, DELETE, PUT,OPTIONS"),this.http.get(`${this.baseURL}/${l}`,{headers:n})}}return i.\u0275fac=function(l){return new(l||i)(d.LFG(_.eN))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},9953:(E,u,o)=>{o.d(u,{e:()=>i});var _=o(5861),d=o(8256),c=o(7173);let i=(()=>{class r{constructor(e,n){this.toastCtrl=e,this.loadingCtrl=n}presentToast(e){var n=this;return(0,_.Z)(function*(){return n.toast=!0,yield n.toastCtrl.create({message:e,duration:2e3,position:"bottom"}).then(g=>{g.present().then(()=>{console.log("presented"),n.toast||g.dismiss().then(()=>console.log("abort presenting"))})})})()}loadershow(e){var n=this;return(0,_.Z)(function*(){n.loadingCtrl.create({cssClass:"loadingdiv",message:""}).then(g=>{g.present()})})()}hideLoader(){this.loadingCtrl.dismiss().then(e=>{console.log("Loading dismissed!",e)}).catch(e=>{console.log("error",e)})}}return r.\u0275fac=function(e){return new(e||r)(d.LFG(c.yF),d.LFG(c.HT))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()}}]);